<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highly Divisible Triangular Number</title>
    <style>
        #range {
            width: 2rem;
        }
    </style>
</head>
<body>
    <h1>Highly Divisible Triangular Number</h1>
    <div>
        <h2>Problem</h2>
        <p>The sequence of triangle numbers is generated by adding the natural
            numbers. So the 7<sup>th</sup> triangle number would be:</br>
            1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:</p>
        <p>1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...</p>
        <p>Let us list the factors of the first seven triangle numbers:</p>
        <p><b>1</b>: 1</br>
            <b>3</b>: 1, 3</br>
        <b>6</b>: 1, 2, 3, 6</br>
        <b>10</b>: 1, 2, 5, 10</br>
        <b>15</b>: 1, 3, 5, 15</br>
        <b>21</b>: 1, 3, 7, 21</br>
        <b>28</b>: 1, 2, 4, 7, 14, 28</br>
        <p>We can see that 28 is the first triangle number to have over five divisors.</p>
        <p>What is the value of the first triangle number to have over five hundred divisors?</p>
    </div>
    <div>
        <h2>Solution</h2>
        <p>The first triangle to have over
            <input id="range" type="text" value="500"> divisors is
            <b><span id="solution">???</span></b>.</p>
        <button id="solve">Solve</button>
    </div>
    <script>
        function solve() {
            triangle_value = 0;
            num_divisors = 0;
            range = document.getElementById("range").value;

            // find first triangle number with num_divisors > range
            for(triangle_index = 1; num_divisors <= range; triangle_index++) {
                num_divisors = 0;
                triangle_value = 0;
                // calculate triangle number
                for(index = 1; index <= triangle_index; index++) {
                    triangle_value += index;
                }
                // calculate number of divisors
                for(index = 1; index <= Math.sqrt(triangle_value); index++) {
                    // if index is a factor, add 2 to num_divisors
                    if (triangle_value % index == 0) {
                        num_divisors+=2;
                    }
                } // triangle '1' is a special case
                if(triangle_value == 1) num_divisors = 1;
            }
            
            document.getElementById("solution").textContent = triangle_value;
        }
        document.getElementById("solve").onclick = solve;
    </script>
</body>
</html>