<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pentagon Numbers</title>
    <style>
        body {
            width: 30rem;
        }

        div div {
            text-align: center;
        }

        #range {
            width: 3.5rem;
        }
    </style>
</head>
<body>
    <h1>Pentagon Numbers</h1>
    <div>
        <h2>Problem</h2>
        <p>Pentagonal numbers are generated by the formula,
           <i>P</i><sub>n</sub> = <i>n</i>(3<i>n</i> − 1)/2. The first ten
           pentagonal numbers are:</p>
        <div>
            <p>1, 5, 12, 22, 35, 51, 70, 92, 117, 145, …</p>
        </div>
        <p>It can be seen that <i>P</i><sub>4</sub> + <i>P</i><sub>7</sub> = 22
           + 70 = 92 = <i>P</i><sub>8</sub>. However, their difference, 70 − 22
           = 48, is not pentagonal.</p>
        <p>Find the pair of pentagonal numbers, <i>P<sub>j</sub></i> and
           <i>P<sub>k</sub></i>, for which their sum and difference are
           pentagonal and <i>D</i> = ⏐<i>P<sub>k</sub></i> −
           <i>P<sub>j</sub></i>⏐ is minimised; what is the value of
           <i>D</i>?</p>
    </div>
    <div>
        <h2>Solution</h2>
        <p>The value of ⏐<i>P<sub>k</sub></i> −
            <i>P<sub>j</sub></i>⏐ for the pair of pentagonal numbers,
            <i>P<sub>j</sub></i> and <i>P<sub>k</sub></i>, for which their sum
            and difference are pentagonal ⏐<i>P<sub>k</sub></i> −
            <i>P<sub>j</sub></i>⏐ is minimised is
           <b><span id="solution">???</span></b>.</p>
        <button id="solve">Solve</button>
    </div>
    <script>
        function solve() {
            answer = 0;
            const pentagonals = new Set();
            for (n = 1; true; n++) {
                const P_n = (n * (3 * n - 1)) / 2;
                pentagonals.add(P_n);
                for (const P_j of pentagonals) {
                    const sum = P_n + P_j;
                    const diff = Math.abs(P_n - P_j);
                    if (isPentagonal(sum) && isPentagonal(diff)) {
                        answer = diff;
                        break;
                    }
                } if (answer) break;
            } document.getElementById("solution").textContent = answer;
        }

        function isPentagonal(num) {
            const discriminant = 1 + 24 * num;
            const sqrtDiscriminant = Math.sqrt(discriminant);
            return sqrtDiscriminant % 6 === 5;
        }
        
        document.getElementById("solve").onclick = solve;
    </script>
</body>
</html>