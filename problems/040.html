<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Champernowne's Constant</title>
    <style>
        body {
            width: 38rem;
        }

        div div {
            text-align: center;
        }

        .red {
            color: red;
        }
        
        #range {
            width: 3.5rem;
        }
    </style>
</head>
<body>
    <h1>Champernowne's Constant</h1>
    <div>
        <h2>Problem</h2>
        <p>An irrational decimal fraction is created by concatenating the
           positive integers:</p>
        <div>
            <p>0.12345678910<span class="red">1</span>112131415161718192021â‹¯</p>
        </div>
        <p>It can be seen that the 12<sup>th</sup> digit of the fractional part
           is 1.</p>
        <p>If <i>d</i><sub>n</sub> represents the <i>n</i><sup>th</sup> digit of
           the fractional part, find the value of the following expression.</p>
        <div>
           <p><i>d</i><sub>1</sub> x <i>d</i><sub>10</sub> x
           <i>d</i><sub>100</sub> x <i>d</i><sub>1000</sub> x
           <i>d</i><sub>10000</sub> x <i>d</i><sub>100000</sub> x
           <i>d</i><sub>1000000</sub></p>
        </div>
    </div>
    <div>
        <h2>Solution</h2>
        <p>
           The value of <i>d</i><sub>1</sub> x <i>d</i><sub>10</sub> x
           <i>d</i><sub>100</sub> x <i>d</i><sub>1000</sub> x
           <i>d</i><sub>10000</sub> x <i>d</i><sub>100000</sub> x
           <i>d</i><sub>1000000</sub> where <i>d</i><sub>n</sub> represents the
           <i>n</i><sup>th</sup> digit of the fractional part of an irrational
           decimal fraction created by concatenating the positive integers is
           <b><span id="solution">???</span></b>.</p>
        <button id="solve">Solve</button>
    </div>
    <script>
        function solve() {
            answer = 0;
            const positions = [1, 10, 100, 1000, 10000, 100000, 1000000];
            answer = positions.reduce((product, pos) => product * champernowneDigit(pos), 1);
            document.getElementById("solution").textContent = answer;
        }

        function champernowneDigit(position) {
            let digitLength = 1;
            let count = 9;
            while (position > digitLength * count) {
                position -= digitLength * count;
                digitLength++;
                count *= 10;
            } const number = Math.floor((position - 1) / digitLength)
                + Math.pow(10, digitLength - 1);
            const digitIndex = (position - 1) % digitLength;
            return parseInt(number.toString()[digitIndex], 10);
        }
        
        document.getElementById("solve").onclick = solve;
    </script>
</body>
</html>